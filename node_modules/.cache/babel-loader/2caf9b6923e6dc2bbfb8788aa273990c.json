{"ast":null,"code":"import _slicedToArray from\"/Users/siddharthkeshar/Documents/GitHub/Spotify_clo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import\"./styles/Footer.css\";/*import PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\"\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\"\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\"\nimport ShuffleIcon from \"@material-ui/icons/Shuffle\"\nimport RepeatIcon from \"@material-ui/icons/Repeat\"\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\"\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\"\nimport PlaylistPlayIcon from \"@material-ui/icons/PlaylistPlay\"\nimport { Grid, Slider } from \"@material-ui/core\"*/import{useDataLayerValue}from'../DataLayer';import SpotifyPlayer from'react-spotify-web-playback';//npm i react-spotify-web-playback\n//https://github.com/gilbarbara/react-spotify-web-playback\nexport var Footer=function Footer(_ref){var spotify=_ref.spotify;var _useDataLayerValue=useDataLayerValue(),_useDataLayerValue2=_slicedToArray(_useDataLayerValue,2),_useDataLayerValue2$=_useDataLayerValue2[0],play_uri=_useDataLayerValue2$.play_uri,token=_useDataLayerValue2$.token,playing=_useDataLayerValue2$.playing,dispatch=_useDataLayerValue2[1];var track=null;useEffect(function(){spotify.getMyCurrentPlaybackState().then(function(r){console.log(r);dispatch({type:\"SET_PLAYING\",playing:r.is_playing});dispatch({type:\"SET_ITEM\",item:r.item});});},[spotify,dispatch]);var handleChange=function handleChange(){dispatch({type:\"SET_ITEM\",item:track});if(!track.isPlaying){dispatch({type:\"SET_PLAYING\",playing:track.isPlaying});}};/*const skipNext = () => {\n        spotify.skipToNext()\n        spotify.getMyCurrentPlayingTrack().then((r) => {\n          dispatch({\n            type: \"SET_ITEM\",\n            item: r.item,\n          })\n          dispatch({\n            type: \"SET_PLAYING\",\n            playing: true,\n          })\n        })\n      }\n\n      const skipPrevious = () => {\n        spotify.skipToPrevious()\n        spotify.getMyCurrentPlayingTrack().then((r) => {\n          dispatch({\n            type: \"SET_ITEM\",\n            item: r.item,\n          })\n          dispatch({\n            type: \"SET_PLAYING\",\n            playing: true,\n          })\n        })\n      }*/return/*#__PURE__*/React.createElement(\"footer\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"footer_player_container\"},/*#__PURE__*/React.createElement(SpotifyPlayer,{name:\"Spotify-clone\",token:token,uris:[play_uri],styles:{bgColor:' #282828',color:'#fff',loaderColor:'#1DB954',sliderColor:'#1DB954',savedColor:'#fff',trackArtistColor:'#ccc',trackNameColor:'#fff',loaderSize:1.5,sliderHandleColor:\"#fff\"},play:playing,callback:function callback(state){track=state;if(track.isPlaying){handleChange();}}})));};","map":{"version":3,"names":["React","useEffect","useDataLayerValue","SpotifyPlayer","Footer","_ref","spotify","_useDataLayerValue","_useDataLayerValue2","_slicedToArray","_useDataLayerValue2$","play_uri","token","playing","dispatch","track","getMyCurrentPlaybackState","then","r","console","log","type","is_playing","item","handleChange","isPlaying","createElement","className","name","uris","styles","bgColor","color","loaderColor","sliderColor","savedColor","trackArtistColor","trackNameColor","loaderSize","sliderHandleColor","play","callback","state"],"sources":["/Users/siddharthkeshar/Documents/GitHub/Spotify_clo/src/components/Footer.js"],"sourcesContent":["import React,{useEffect} from 'react'\nimport \"./styles/Footer.css\"\n/*import PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\"\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\"\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\"\nimport ShuffleIcon from \"@material-ui/icons/Shuffle\"\nimport RepeatIcon from \"@material-ui/icons/Repeat\"\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\"\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\"\nimport PlaylistPlayIcon from \"@material-ui/icons/PlaylistPlay\"\nimport { Grid, Slider } from \"@material-ui/core\"*/\nimport { useDataLayerValue } from '../DataLayer'\nimport SpotifyPlayer from 'react-spotify-web-playback'\n//npm i react-spotify-web-playback\n//https://github.com/gilbarbara/react-spotify-web-playback\n\nexport const Footer =({spotify})=>{\n    const [{play_uri, token, playing }, dispatch] = useDataLayerValue()\n\n    let track=null\n    useEffect(() => {\n        spotify.getMyCurrentPlaybackState().then((r) => {\n          console.log(r)\n    \n          dispatch({\n            type: \"SET_PLAYING\",\n            playing: r.is_playing,\n          })\n    \n          dispatch({\n            type: \"SET_ITEM\",\n            item: r.item,\n          })\n        })\n      }, [spotify,dispatch])\n\n     const handleChange = () => {\n        dispatch({\n          type: \"SET_ITEM\",\n          item: track,\n        })\n        if(!track.isPlaying){\n          dispatch({\n            type: \"SET_PLAYING\",\n            playing: track.isPlaying\n          })\n        }\n      }\n\n     /*const skipNext = () => {\n        spotify.skipToNext()\n        spotify.getMyCurrentPlayingTrack().then((r) => {\n          dispatch({\n            type: \"SET_ITEM\",\n            item: r.item,\n          })\n          dispatch({\n            type: \"SET_PLAYING\",\n            playing: true,\n          })\n        })\n      }\n\n      const skipPrevious = () => {\n        spotify.skipToPrevious()\n        spotify.getMyCurrentPlayingTrack().then((r) => {\n          dispatch({\n            type: \"SET_ITEM\",\n            item: r.item,\n          })\n          dispatch({\n            type: \"SET_PLAYING\",\n            playing: true,\n          })\n        })\n      }*/\n      \n    return(\n        <footer >\n            <div className=\"footer_player_container\">\n            <SpotifyPlayer \n                name='Spotify-clone'\n                token={token}\n                uris={[play_uri]}\n                styles={{\n                    bgColor: ' #282828',\n                    color: '#fff',\n                    loaderColor: '#1DB954',\n                    sliderColor: '#1DB954',\n                    savedColor: '#fff',\n                    trackArtistColor: '#ccc',\n                    trackNameColor: '#fff',\n                    loaderSize:1.5,\n                    sliderHandleColor: \"#fff\"\n                  }}\n                play={playing}\n                callback={(state)=>{\n                    track=state\n                    if (track.isPlaying){\n                      handleChange()\n                    }\n                }}\n                />\n            </div>\n        </footer>\n    )\n}"],"mappings":"0KAAA,MAAO,CAAAA,KAAK,EAAEC,SAAS,KAAO,OAAO,CACrC,MAAO,qBAAqB,CAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDACA,OAASC,iBAAiB,KAAQ,cAAc,CAChD,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CACtD;AACA;AAEA,MAAO,IAAM,CAAAC,MAAM,CAAE,QAAR,CAAAA,MAAMA,CAAAC,IAAA,CAAe,IAAX,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAC1B,IAAAC,kBAAA,CAAgDL,iBAAiB,CAAC,CAAC,CAAAM,mBAAA,CAAAC,cAAA,CAAAF,kBAAA,IAAAG,oBAAA,CAAAF,mBAAA,IAA3DG,QAAQ,CAAAD,oBAAA,CAARC,QAAQ,CAAEC,KAAK,CAAAF,oBAAA,CAALE,KAAK,CAAEC,OAAO,CAAAH,oBAAA,CAAPG,OAAO,CAAIC,QAAQ,CAAAN,mBAAA,IAE5C,GAAI,CAAAO,KAAK,CAAC,IAAI,CACdd,SAAS,CAAC,UAAM,CACZK,OAAO,CAACU,yBAAyB,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,CAAC,CAAK,CAC9CC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC,CAEdJ,QAAQ,CAAC,CACPO,IAAI,CAAE,aAAa,CACnBR,OAAO,CAAEK,CAAC,CAACI,UACb,CAAC,CAAC,CAEFR,QAAQ,CAAC,CACPO,IAAI,CAAE,UAAU,CAChBE,IAAI,CAAEL,CAAC,CAACK,IACV,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAAE,CAACjB,OAAO,CAACQ,QAAQ,CAAC,CAAC,CAEvB,GAAM,CAAAU,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACxBV,QAAQ,CAAC,CACPO,IAAI,CAAE,UAAU,CAChBE,IAAI,CAAER,KACR,CAAC,CAAC,CACF,GAAG,CAACA,KAAK,CAACU,SAAS,CAAC,CAClBX,QAAQ,CAAC,CACPO,IAAI,CAAE,aAAa,CACnBR,OAAO,CAAEE,KAAK,CAACU,SACjB,CAAC,CAAC,CACJ,CACF,CAAC,CAEF;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAEI,mBACIzB,KAAA,CAAA0B,aAAA,4BACI1B,KAAA,CAAA0B,aAAA,QAAKC,SAAS,CAAC,yBAAyB,eACxC3B,KAAA,CAAA0B,aAAA,CAACvB,aAAa,EACVyB,IAAI,CAAC,eAAe,CACpBhB,KAAK,CAAEA,KAAM,CACbiB,IAAI,CAAE,CAAClB,QAAQ,CAAE,CACjBmB,MAAM,CAAE,CACJC,OAAO,CAAE,UAAU,CACnBC,KAAK,CAAE,MAAM,CACbC,WAAW,CAAE,SAAS,CACtBC,WAAW,CAAE,SAAS,CACtBC,UAAU,CAAE,MAAM,CAClBC,gBAAgB,CAAE,MAAM,CACxBC,cAAc,CAAE,MAAM,CACtBC,UAAU,CAAC,GAAG,CACdC,iBAAiB,CAAE,MACrB,CAAE,CACJC,IAAI,CAAE3B,OAAQ,CACd4B,QAAQ,CAAE,SAAAA,SAACC,KAAK,CAAG,CACf3B,KAAK,CAAC2B,KAAK,CACX,GAAI3B,KAAK,CAACU,SAAS,CAAC,CAClBD,YAAY,CAAC,CAAC,CAChB,CACJ,CAAE,CACD,CACA,CACD,CAAC,CAEjB,CAAC"},"metadata":{},"sourceType":"module"}