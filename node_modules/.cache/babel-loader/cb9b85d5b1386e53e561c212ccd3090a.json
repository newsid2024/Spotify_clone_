{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\"); // @ts-ignore\n\n\nvar blacklist = require(\"blacklist\");\n\nvar styles_1 = require(\"./styles\");\n\nvar utils_1 = require(\"./utils\");\n\nvar RangeSlider =\n/** @class */\nfunction (_super) {\n  __extends(RangeSlider, _super);\n\n  function RangeSlider() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.handle = null;\n    _this.node = null;\n    _this.offset = {\n      x: 0,\n      y: 0\n    };\n    _this.start = {\n      x: 0,\n      y: 0\n    };\n    _this.track = null;\n\n    _this.getDragPosition = function (e) {\n      var _a = utils_1.getCoordinates(e),\n          x = _a.x,\n          y = _a.y;\n\n      return {\n        x: x + _this.start.x - _this.offset.x,\n        y: _this.offset.y + _this.start.y - y\n      };\n    };\n\n    _this.updateOptions = function (e) {\n      var _a = _this,\n          handle = _a.handle,\n          track = _a.track;\n\n      var _b = utils_1.getCoordinates(e),\n          x = _b.x,\n          y = _b.y;\n\n      _this.start = {\n        x: handle.offsetLeft,\n        y: track.offsetHeight - handle.offsetTop - handle.offsetHeight\n      };\n      _this.offset = {\n        x: x,\n        y: y\n      };\n    };\n\n    _this.updatePosition = function (position) {\n      var onChange = _this.props.onChange;\n      var rect;\n      /* istanbul ignore else */\n\n      if (_this.node) {\n        rect = _this.node.getBoundingClientRect();\n      }\n      /* istanbul ignore else */\n\n\n      if (onChange) {\n        onChange(utils_1.getValues(position, _this.props, rect || {}), _this.props);\n      }\n    };\n\n    _this.handleClickTrack = function (e) {\n      var element = e.currentTarget;\n\n      var _a = utils_1.getCoordinates(e),\n          x = _a.x,\n          y = _a.y;\n\n      var _b = element.getBoundingClientRect(),\n          left = _b.left,\n          bottom = _b.bottom;\n\n      _this.updatePosition({\n        x: x - left,\n        y: bottom - y\n      });\n    };\n\n    _this.handleDrag = function (e) {\n      e.preventDefault();\n\n      _this.updatePosition(_this.getDragPosition(e));\n    };\n\n    _this.handleDragEnd = function (e) {\n      e.preventDefault();\n      var onDragEnd = _this.props.onDragEnd;\n      var rect;\n      /* istanbul ignore else */\n\n      if (_this.node) {\n        rect = _this.node.getBoundingClientRect();\n      }\n\n      document.removeEventListener('mousemove', _this.handleDrag);\n      document.removeEventListener('mouseup', _this.handleDragEnd);\n      document.removeEventListener('touchmove', _this.handleDrag);\n      document.removeEventListener('touchend', _this.handleDragEnd);\n      document.removeEventListener('touchcancel', _this.handleDragEnd);\n      /* istanbul ignore else */\n\n      if (onDragEnd) {\n        onDragEnd(utils_1.getValues(_this.getDragPosition(e), _this.props, rect || {}), _this.props);\n      }\n    };\n\n    _this.handleMouseDown = function (e) {\n      e.preventDefault();\n\n      _this.updateOptions(e);\n\n      document.addEventListener('mousemove', _this.handleDrag);\n      document.addEventListener('mouseup', _this.handleDragEnd);\n    };\n\n    _this.handleTouchStart = function (e) {\n      e.preventDefault();\n\n      _this.updateOptions(e);\n\n      document.addEventListener('touchmove', _this.handleDrag, {\n        passive: false\n      });\n      document.addEventListener('touchend', _this.handleDragEnd);\n      document.addEventListener('touchcancel', _this.handleDragEnd);\n    };\n\n    return _this;\n  }\n\n  Object.defineProperty(RangeSlider.prototype, \"position\", {\n    get: function () {\n      var _a = this.props,\n          axis = _a.axis,\n          x = _a.x,\n          xMax = _a.xMax,\n          xMin = _a.xMin,\n          y = _a.y,\n          yMax = _a.yMax,\n          yMin = _a.yMin;\n      var bottom = (y - yMin) / (yMax - yMin) * 100;\n      var left = (x - xMin) / (xMax - xMin) * 100;\n\n      if (bottom > 100) {\n        bottom = 100;\n      }\n\n      if (bottom < 0) {\n        bottom = 0;\n      } // bottom shouldn't be set with X axis\n\n      /* istanbul ignore else */\n\n\n      if (axis === 'x') {\n        bottom = 0;\n      }\n\n      if (left > 100) {\n        left = 100;\n      }\n\n      if (left < 0) {\n        left = 0;\n      } // left shouldn't be set with Y axis\n\n      /* istanbul ignore else */\n\n\n      if (axis === 'y') {\n        left = 0;\n      }\n\n      return {\n        x: left,\n        y: bottom\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(RangeSlider.prototype, \"styles\", {\n    get: function () {\n      var styles = this.props.styles;\n      return styles_1.default(styles);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  RangeSlider.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        axis = _a.axis,\n        classNamePrefix = _a.classNamePrefix;\n    var rest = blacklist(this.props, 'axis', 'classNamePrefix', 'onChange', 'onDragEnd', 'styles', 'x', 'xMax', 'xMin', 'xStep', 'y', 'yMax', 'yMin', 'yStep');\n    var _b = this.position,\n        x = _b.x,\n        y = _b.y;\n    var position = {\n      left: x + \"%\",\n      bottom: y + \"%\"\n    };\n    var size = {};\n    var slider;\n    var range;\n    var track;\n    var handle;\n    /* istanbul ignore else */\n\n    if (axis === 'x') {\n      size.width = x + \"%\";\n      slider = this.styles.sliderX;\n      range = this.styles.rangeX;\n      track = this.styles.trackX;\n      handle = this.styles.handleX;\n    }\n    /* istanbul ignore else */\n\n\n    if (axis === 'y') {\n      size.height = y + \"%\";\n      slider = this.styles.sliderY;\n      range = this.styles.rangeY;\n      track = this.styles.trackY;\n      handle = this.styles.handleY;\n    }\n    /* istanbul ignore else */\n\n\n    if (axis === 'xy') {\n      size.height = y + \"%\";\n      size.width = x + \"%\";\n      slider = this.styles.sliderXY;\n      range = this.styles.rangeXY;\n      track = this.styles.trackXY;\n      handle = this.styles.handleXY;\n    }\n\n    return React.createElement(\"div\", __assign({\n      ref: function (c) {\n        return _this.node = c;\n      },\n      style: slider\n    }, rest, {\n      className: classNamePrefix\n    }), React.createElement(\"div\", {\n      className: classNamePrefix && classNamePrefix + \"__track\",\n      ref: function (c) {\n        return _this.track = c;\n      },\n      style: track,\n      // @ts-ignore\n      onClick: this.handleClickTrack\n    }, React.createElement(\"div\", {\n      className: classNamePrefix && classNamePrefix + \"__range\",\n      style: __assign({}, size, range)\n    }), React.createElement(\"div\", {\n      ref: function (c) {\n        return _this.handle = c;\n      },\n      style: __assign({}, this.styles.handleWrapper, position),\n      // @ts-ignore\n      onTouchStart: this.handleTouchStart,\n      // @ts-ignore\n      onMouseDown: this.handleMouseDown\n    }, React.createElement(\"span\", {\n      className: classNamePrefix && classNamePrefix + \"__handle\",\n      style: handle\n    }))));\n  };\n\n  RangeSlider.defaultProps = {\n    axis: 'x',\n    x: 0,\n    xMax: 100,\n    xMin: 0,\n    xStep: 1,\n    y: 0,\n    yMax: 100,\n    yMin: 0,\n    yStep: 1\n  };\n  return RangeSlider;\n}(React.Component);\n\nexports.default = RangeSlider;","map":{"version":3,"sources":["../src/index.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\n// @ts-ignore\nvar blacklist = require(\"blacklist\");\nvar styles_1 = require(\"./styles\");\nvar utils_1 = require(\"./utils\");\nvar RangeSlider = /** @class */ (function (_super) {\n    __extends(RangeSlider, _super);\n    function RangeSlider() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handle = null;\n        _this.node = null;\n        _this.offset = { x: 0, y: 0 };\n        _this.start = { x: 0, y: 0 };\n        _this.track = null;\n        _this.getDragPosition = function (e) {\n            var _a = utils_1.getCoordinates(e), x = _a.x, y = _a.y;\n            return {\n                x: x + _this.start.x - _this.offset.x,\n                y: _this.offset.y + _this.start.y - y,\n            };\n        };\n        _this.updateOptions = function (e) {\n            var _a = _this, handle = _a.handle, track = _a.track;\n            var _b = utils_1.getCoordinates(e), x = _b.x, y = _b.y;\n            _this.start = {\n                x: handle.offsetLeft,\n                y: track.offsetHeight - handle.offsetTop - handle.offsetHeight,\n            };\n            _this.offset = { x: x, y: y };\n        };\n        _this.updatePosition = function (position) {\n            var onChange = _this.props.onChange;\n            var rect;\n            /* istanbul ignore else */\n            if (_this.node) {\n                rect = _this.node.getBoundingClientRect();\n            }\n            /* istanbul ignore else */\n            if (onChange) {\n                onChange(utils_1.getValues(position, _this.props, rect || {}), _this.props);\n            }\n        };\n        _this.handleClickTrack = function (e) {\n            var element = e.currentTarget;\n            var _a = utils_1.getCoordinates(e), x = _a.x, y = _a.y;\n            var _b = element.getBoundingClientRect(), left = _b.left, bottom = _b.bottom;\n            _this.updatePosition({\n                x: x - left,\n                y: bottom - y,\n            });\n        };\n        _this.handleDrag = function (e) {\n            e.preventDefault();\n            _this.updatePosition(_this.getDragPosition(e));\n        };\n        _this.handleDragEnd = function (e) {\n            e.preventDefault();\n            var onDragEnd = _this.props.onDragEnd;\n            var rect;\n            /* istanbul ignore else */\n            if (_this.node) {\n                rect = _this.node.getBoundingClientRect();\n            }\n            document.removeEventListener('mousemove', _this.handleDrag);\n            document.removeEventListener('mouseup', _this.handleDragEnd);\n            document.removeEventListener('touchmove', _this.handleDrag);\n            document.removeEventListener('touchend', _this.handleDragEnd);\n            document.removeEventListener('touchcancel', _this.handleDragEnd);\n            /* istanbul ignore else */\n            if (onDragEnd) {\n                onDragEnd(utils_1.getValues(_this.getDragPosition(e), _this.props, rect || {}), _this.props);\n            }\n        };\n        _this.handleMouseDown = function (e) {\n            e.preventDefault();\n            _this.updateOptions(e);\n            document.addEventListener('mousemove', _this.handleDrag);\n            document.addEventListener('mouseup', _this.handleDragEnd);\n        };\n        _this.handleTouchStart = function (e) {\n            e.preventDefault();\n            _this.updateOptions(e);\n            document.addEventListener('touchmove', _this.handleDrag, { passive: false });\n            document.addEventListener('touchend', _this.handleDragEnd);\n            document.addEventListener('touchcancel', _this.handleDragEnd);\n        };\n        return _this;\n    }\n    Object.defineProperty(RangeSlider.prototype, \"position\", {\n        get: function () {\n            var _a = this.props, axis = _a.axis, x = _a.x, xMax = _a.xMax, xMin = _a.xMin, y = _a.y, yMax = _a.yMax, yMin = _a.yMin;\n            var bottom = ((y - yMin) / (yMax - yMin)) * 100;\n            var left = ((x - xMin) / (xMax - xMin)) * 100;\n            if (bottom > 100) {\n                bottom = 100;\n            }\n            if (bottom < 0) {\n                bottom = 0;\n            }\n            // bottom shouldn't be set with X axis\n            /* istanbul ignore else */\n            if (axis === 'x') {\n                bottom = 0;\n            }\n            if (left > 100) {\n                left = 100;\n            }\n            if (left < 0) {\n                left = 0;\n            }\n            // left shouldn't be set with Y axis\n            /* istanbul ignore else */\n            if (axis === 'y') {\n                left = 0;\n            }\n            return { x: left, y: bottom };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSlider.prototype, \"styles\", {\n        get: function () {\n            var styles = this.props.styles;\n            return styles_1.default(styles);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeSlider.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, axis = _a.axis, classNamePrefix = _a.classNamePrefix;\n        var rest = blacklist(this.props, 'axis', 'classNamePrefix', 'onChange', 'onDragEnd', 'styles', 'x', 'xMax', 'xMin', 'xStep', 'y', 'yMax', 'yMin', 'yStep');\n        var _b = this.position, x = _b.x, y = _b.y;\n        var position = { left: x + \"%\", bottom: y + \"%\" };\n        var size = {};\n        var slider;\n        var range;\n        var track;\n        var handle;\n        /* istanbul ignore else */\n        if (axis === 'x') {\n            size.width = x + \"%\";\n            slider = this.styles.sliderX;\n            range = this.styles.rangeX;\n            track = this.styles.trackX;\n            handle = this.styles.handleX;\n        }\n        /* istanbul ignore else */\n        if (axis === 'y') {\n            size.height = y + \"%\";\n            slider = this.styles.sliderY;\n            range = this.styles.rangeY;\n            track = this.styles.trackY;\n            handle = this.styles.handleY;\n        }\n        /* istanbul ignore else */\n        if (axis === 'xy') {\n            size.height = y + \"%\";\n            size.width = x + \"%\";\n            slider = this.styles.sliderXY;\n            range = this.styles.rangeXY;\n            track = this.styles.trackXY;\n            handle = this.styles.handleXY;\n        }\n        return (React.createElement(\"div\", __assign({ ref: function (c) { return (_this.node = c); }, style: slider }, rest, { className: classNamePrefix }),\n            React.createElement(\"div\", { className: classNamePrefix && classNamePrefix + \"__track\", ref: function (c) { return (_this.track = c); }, style: track, \n                // @ts-ignore\n                onClick: this.handleClickTrack },\n                React.createElement(\"div\", { className: classNamePrefix && classNamePrefix + \"__range\", style: __assign({}, size, range) }),\n                React.createElement(\"div\", { ref: function (c) { return (_this.handle = c); }, style: __assign({}, this.styles.handleWrapper, position), \n                    // @ts-ignore\n                    onTouchStart: this.handleTouchStart, \n                    // @ts-ignore\n                    onMouseDown: this.handleMouseDown },\n                    React.createElement(\"span\", { className: classNamePrefix && classNamePrefix + \"__handle\", style: handle })))));\n    };\n    RangeSlider.defaultProps = {\n        axis: 'x',\n        x: 0,\n        xMax: 100,\n        xMin: 0,\n        xStep: 1,\n        y: 0,\n        yMax: 100,\n        yMin: 0,\n        yStep: 1,\n    };\n    return RangeSlider;\n}(React.Component));\nexports.default = RangeSlider;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}