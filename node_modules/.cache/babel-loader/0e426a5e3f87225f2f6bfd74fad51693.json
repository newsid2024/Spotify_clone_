{"ast":null,"code":"var _jsxFileName = \"/Users/siddharthkeshar/Desktop/Projects for CV/spotify-clone-master/src/App.js\";\nimport React, { useEffect } from 'react';\nimport './App.css';\nimport Login from './components/Login';\nimport { getAccessToken } from './components/spotify';\nimport SpotifyWebApi from 'spotify-web-api-js';\n//npm i spotify-web-api-js \n//https://github.com/JMPerez/spotify-web-api-js\nimport Player from './components/Player';\nimport { useDataLayerValue } from './DataLayer';\nconst spotifyOb = new SpotifyWebApi();\nfunction App() {\n  //deployed\n  //const [token , setToken] = useState(null)\n  const [{\n    token\n  }, dispatch] = useDataLayerValue();\n  //DataLayer.user is destructured in this\n  //state in {} will get everything\n  useEffect(() => {\n    const hash = getAccessToken();\n    window.location.hash = \"\";\n    const _token = hash.access_token;\n    if (_token) {\n      dispatch({\n        type: 'SET_TOKEN',\n        token: _token\n      });\n      spotifyOb.setAccessToken(_token); //spotify object from spotify WebApi Wrapper which helps us communicate with Spotify app\n\n      spotifyOb.getMe().then(user => {\n        dispatch({\n          type: 'SET_USER',\n          user: user\n        });\n      });\n      spotifyOb.getUserPlaylists().then(playlists => {\n        dispatch({\n          type: 'SET_PLAYLISTS',\n          playlists: playlists\n        });\n      });\n    }\n    spotifyOb.getMyTopArtists().then(response => dispatch({\n      type: \"SET_TOP_ARTISTS\",\n      top_artists: response\n    }));\n\n    //enter your own discover weekly playlist id to get your songs\n    spotifyOb.getPlaylist(\"37i9dQZEVXcJZyENOWUFo7\").then(response => {\n      dispatch({\n        type: 'SET_DISCOVER_WEEKLY',\n        discover_weekly: response\n      });\n    });\n  }, [token, dispatch]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, token ? /*#__PURE__*/React.createElement(Player, {\n    spotify: spotifyOb,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 18\n    }\n  }) : /*#__PURE__*/React.createElement(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 51\n    }\n  }));\n}\nexport default App;\n\n//useEffect Hook \n/**\n * It runs a piece of code based on a given condition\n * It runs a function given inside it\n * //we give [] to specify it to run it only once\n * //if we put a variable inside [name,age] the useEffect will run whenever the name var changes.\n */\n\n//Problem: Prop Drilling\n//Solution:Context API","map":{"version":3,"names":["React","useEffect","Login","getAccessToken","SpotifyWebApi","Player","useDataLayerValue","spotifyOb","App","token","dispatch","hash","window","location","_token","access_token","type","setAccessToken","getMe","then","user","getUserPlaylists","playlists","getMyTopArtists","response","top_artists","getPlaylist","discover_weekly","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","spotify"],"sources":["/Users/siddharthkeshar/Desktop/Projects for CV/spotify-clone-master/src/App.js"],"sourcesContent":["import React,{ useEffect } from 'react'\nimport './App.css'\nimport Login from './components/Login'\nimport { getAccessToken } from './components/spotify'\nimport SpotifyWebApi from 'spotify-web-api-js'\n//npm i spotify-web-api-js \n//https://github.com/JMPerez/spotify-web-api-js\nimport Player from './components/Player'\nimport {useDataLayerValue} from './DataLayer'\n\n\nconst spotifyOb = new SpotifyWebApi()\n\nfunction App() {\n  //deployed\n    //const [token , setToken] = useState(null)\n    const [{token},dispatch] = useDataLayerValue()\n            //DataLayer.user is destructured in this\n            //state in {} will get everything\n    useEffect(() => {\n      const hash = getAccessToken();\n      window.location.hash=\"\"\n      const _token = hash.access_token\n\n      if (_token){\n\n        dispatch(\n          {\n            type: 'SET_TOKEN',\n            token: _token,\n          }\n        )\n        spotifyOb.setAccessToken(_token) //spotify object from spotify WebApi Wrapper which helps us communicate with Spotify app\n\n        spotifyOb.getMe().then(user => {\n          dispatch(\n            {\n              type: 'SET_USER',\n              user:user,\n            }\n          )\n        })\n        spotifyOb.getUserPlaylists().then((playlists) => {\n          dispatch(\n            {\n              type: 'SET_PLAYLISTS',\n              playlists:playlists,\n            }\n          )\n        })\n      }\n      spotifyOb.getMyTopArtists().then((response) =>\n        dispatch({\n          type: \"SET_TOP_ARTISTS\",\n          top_artists: response,\n        })\n      );\n\n      //enter your own discover weekly playlist id to get your songs\n      spotifyOb.getPlaylist(\"37i9dQZEVXcJZyENOWUFo7\").then((response)=>{\n        dispatch(\n          {\n            type: 'SET_DISCOVER_WEEKLY',\n            discover_weekly:response,\n          }\n        )\n      })\n      \n    },[token,dispatch])\n  return (\n      \n    <div className=\"App\">\n      { token ?  <Player spotify={spotifyOb}/> :  <Login/>}\n    </div>\n  )\n\n}\n\nexport default App;\n\n\n//useEffect Hook \n/**\n * It runs a piece of code based on a given condition\n * It runs a function given inside it\n * //we give [] to specify it to run it only once\n * //if we put a variable inside [name,age] the useEffect will run whenever the name var changes.\n */\n\n //Problem: Prop Drilling\n //Solution:Context API"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,QAAQ,OAAO;AACvC,OAAO,WAAW;AAClB,OAAOC,KAAK,MAAM,oBAAoB;AACtC,SAASC,cAAc,QAAQ,sBAAsB;AACrD,OAAOC,aAAa,MAAM,oBAAoB;AAC9C;AACA;AACA,OAAOC,MAAM,MAAM,qBAAqB;AACxC,SAAQC,iBAAiB,QAAO,aAAa;AAG7C,MAAMC,SAAS,GAAG,IAAIH,aAAa,CAAC,CAAC;AAErC,SAASI,GAAGA,CAAA,EAAG;EACb;EACE;EACA,MAAM,CAAC;IAACC;EAAK,CAAC,EAACC,QAAQ,CAAC,GAAGJ,iBAAiB,CAAC,CAAC;EACtC;EACA;EACRL,SAAS,CAAC,MAAM;IACd,MAAMU,IAAI,GAAGR,cAAc,CAAC,CAAC;IAC7BS,MAAM,CAACC,QAAQ,CAACF,IAAI,GAAC,EAAE;IACvB,MAAMG,MAAM,GAAGH,IAAI,CAACI,YAAY;IAEhC,IAAID,MAAM,EAAC;MAETJ,QAAQ,CACN;QACEM,IAAI,EAAE,WAAW;QACjBP,KAAK,EAAEK;MACT,CACF,CAAC;MACDP,SAAS,CAACU,cAAc,CAACH,MAAM,CAAC,EAAC;;MAEjCP,SAAS,CAACW,KAAK,CAAC,CAAC,CAACC,IAAI,CAACC,IAAI,IAAI;QAC7BV,QAAQ,CACN;UACEM,IAAI,EAAE,UAAU;UAChBI,IAAI,EAACA;QACP,CACF,CAAC;MACH,CAAC,CAAC;MACFb,SAAS,CAACc,gBAAgB,CAAC,CAAC,CAACF,IAAI,CAAEG,SAAS,IAAK;QAC/CZ,QAAQ,CACN;UACEM,IAAI,EAAE,eAAe;UACrBM,SAAS,EAACA;QACZ,CACF,CAAC;MACH,CAAC,CAAC;IACJ;IACAf,SAAS,CAACgB,eAAe,CAAC,CAAC,CAACJ,IAAI,CAAEK,QAAQ,IACxCd,QAAQ,CAAC;MACPM,IAAI,EAAE,iBAAiB;MACvBS,WAAW,EAAED;IACf,CAAC,CACH,CAAC;;IAED;IACAjB,SAAS,CAACmB,WAAW,CAAC,wBAAwB,CAAC,CAACP,IAAI,CAAEK,QAAQ,IAAG;MAC/Dd,QAAQ,CACN;QACEM,IAAI,EAAE,qBAAqB;QAC3BW,eAAe,EAACH;MAClB,CACF,CAAC;IACH,CAAC,CAAC;EAEJ,CAAC,EAAC,CAACf,KAAK,EAACC,QAAQ,CAAC,CAAC;EACrB,oBAEEV,KAAA,CAAA4B,aAAA;IAAKC,SAAS,EAAC,KAAK;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAChB1B,KAAK,gBAAIT,KAAA,CAAA4B,aAAA,CAACvB,MAAM;IAAC+B,OAAO,EAAE7B,SAAU;IAAAuB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAC,CAAC,gBAAInC,KAAA,CAAA4B,aAAA,CAAC1B,KAAK;IAAA4B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAC,CAChD,CAAC;AAGV;AAEA,eAAe3B,GAAG;;AAGlB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEC;AACA"},"metadata":{},"sourceType":"module"}